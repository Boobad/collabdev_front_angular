<div class="modal-overlay" id="projectModal">
  <div class="modal-container">
    <div class="modal-header">
      <h2>Partager une idée de projet</h2>
      <button class="close-modal" (click)="closeModal()">&times;</button>
    </div>
    <div class="modal-body">

      <div class="creation-loading" *ngIf="isSubmitting">
        <div class="loading-animation"><div class="spinner"></div></div>
        <p>Création du projet en cours...</p>
      </div>

      <form id="newProjectForm" (submit)="onSubmit($event)" *ngIf="!isSubmitting">

        <div class="form-group">
          <label for="projectTitle">Titre du projet *</label>
          <input type="text" id="projectTitle" placeholder="Donnez un titre clair à votre projet" required />
        </div>

        <div class="form-group">
          <label for="projectDescription">Description *</label>
          <textarea id="projectDescription" rows="4" placeholder="Décrivez votre projet" required></textarea>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="projectDomain">Domaine</label>
            <select id="projectDomain">
              <option value="">Sélectionnez un domaine</option>
              <option value="WEB">Web</option>
              <option value="MOBILE">Mobile</option>
              <option value="IA">IA</option>
              <option value="CYBERSECURITE">Cybersécurité</option>
              <option value="DEVOPS">DevOps</option>
              <option value="DATA_SCIENCE">Data Science</option>
            </select>
          </div>

          <div class="form-group">
            <label for="projectSector">Secteur *</label>
            <select id="projectSector" required>
              <option value="">Sélectionnez un secteur</option>
              <option value="SANTE">Santé</option>
              <option value="EDUCATION">Éducation</option>
              <option value="AGRICULTURE">Agriculture</option>
              <option value="TRANSPORTS">Transports</option>
              <option value="FINANCE">Finance</option>
              <option value="AUTRE">Divertissement</option>
            </select>
          </div>
        </div>

        <div class="form-group">
          <label>Votre rôle dans le projet *</label>
          <div class="role-options">
            <label class="role-option">
              <input type="radio" name="projectRole" value="PORTEUR_DE_PROJET" checked />
              <div class="role-card"><i class="fas fa-lightbulb"></i><h4>Idéateur</h4></div>
            </label>
            <label class="role-option">
              <input type="radio" name="projectRole" value="GESTIONNAIRE" />
              <div class="role-card"><i class="fas fa-tasks"></i><h4>Gestionnaire</h4></div>
            </label>
          </div>
        </div>

        <div class="form-group">
          <label for="projectFile">Cahier des charges (optionnel)</label>
          <div class="file-upload">
            <input type="file" id="projectFile" (change)="onFileSelected($event)" accept=".pdf,.doc,.docx,.ppt,.pptx" />
            <span class="file-name">{{ fileName }}</span>
          </div>
        </div>

        <div class="form-actions">
          <button type="button" class="cancel-btn" (click)="closeModal()">Annuler</button>
          <button type="submit" class="submit-btn" [disabled]="isSubmitting">Partager le projet</button>
        </div>
      </form>
    </div>
  </div>
</div>

<div class="success-modal-overlay" id="successModal">
  <div class="success-modal-container">
    <div class="success-animation">
      <div class="success-icon"><i class="fas fa-check-circle"></i></div>
      <div class="confetti"></div><div class="confetti"></div><div class="confetti"></div>
    </div>
    <h2>Projet créé avec succès !</h2>
    <p>Votre projet a été publié et est en cours de vérification.</p>
    <div class="success-actions">
      <button class="close-success-btn" (click)="closeSuccessModal()">Fermer</button>
    </div>
  </div>
</div>
